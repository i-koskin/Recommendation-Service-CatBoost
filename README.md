## Recommendation-Service-CatBoost

### Проект "Рекомендательная система постов социальной сети"


#### Цель проекта:
Разработка рекомендательной системы, предлагающей пользователю социальной сети посты для просмотра на основании имеющихся данных о пользователе, размещенных постах, истории активности.

#### Стек:

• CatBoost

• Python (Pandas, Numpy, Scikit-learn, Seaborn, Scipy)

• FastAPI

• PostgreSQL, SQLAlchemy, ORM

• Git

#### Этапы работы над проектом
#### 1. Сбор и подготовка данных
- Сбор данных: Исследование доступных данных о пользователях, постах и их взаимодействиях (лайки, комментарии).
- Очистка данных: Удаление дубликатов, обработка пропусков и аномалий в данных.
- Анализ данных: Первичный анализ для выявления закономерностей и интересных признаков.
- Подготовка данных: Преобразование категориальных данных методами TF-IDF, PCA и Word2Vec для последующего сравнения двух моделей.

#### 2. Анализ и выбор алгоритма
- Изучение методов построения рекомендаций: Рассмотрение различных подходов, таких как коллаборативная фильтрация, контентная фильтрация, гибридные методы и модели на основе машинного обучения.
- Выбор алгоритма: Определение наиболее подходящего метода для решения задачи.

#### 3. Разработка модели
- Создание модели: Реализация выбранного алгоритма и обучение модели на подготовленных данных.
- Тестирование модели**: Оценка производительности модели с помощью метрики HitRate@K (HitRate@5PCA = 0.578, HitRate@5Word2Vec = 0.598)

#### 4. Разработка API для интеграции
- Создание RESTful API: Разработка интерфейса для взаимодействия с рекомендательной системой, позволяющего получать рекомендации для пользователей.
- Документация API: Описание всех эндпоинтов и методов взаимодействия.

#### 5. Мониторинг
- Логирование: Реализация системы логирования для отслеживания ошибок и активности пользователей.

#### 6. A/B тестирование
- Формирование выборки: Реализация функционала для разделения пользователей на группы.
- A/B эксперимент: Применение одной из двух реализованных моделей для построения рекомендаций для каждой из групп пользователей.
- Оценка результатов: Расчет метрик и оценка значимости изменений.

#### Порядок работы с рекомендательной системой:

#### 1. Скачайте репозиторий в локальную папку
#### 2. Скачайте предобученные модели в папку с репозиторием:
- [catboost_model_PCA](https://drive.google.com/file/d/1gksqZ9tETozRNqnV_uvKhXqSciJAXwU7/view?usp=sharing)
- [catboost_model_W2V](https://drive.google.com/file/d/1ldkckMPxD7WVJjloa97nRhXmHU8u9L_f/view?usp=sharing)

#### 3. В качестве сервера для запуска приложений используем сервер Uvicorn:

pip install uvicorn

uvicorn app:app --reload
- `app` — это название файла (без расширения `.py`), в котором находится ваше приложение FastAPI
  
    app_catboost_model_PCA - для модели CatBoost, построенной на PCA

    app_catboost_model_W2V - для модели CatBoost, построенной на Word2Vec
  
    app - для двух экспериментальных групп: 'control': catboost_model_PCA', 'test': сatboost_model_W2V
  
- `app` (вторая часть) — это имя объекта FastAPI внутри этого файла.
  
#### 4. Для работы с API будем использовать приложение [Postman](https://www.postman.com)
Postman — приложение для работы с API, которое позволяет создавать, тестировать и документировать API с помощью конструкторов запросов, визуализации ответов и автоматизации проверки:
- в поле тип метода (Type a new method) выбираем GET;
- localhost:8000/post/recommendations?id=200&limit=5:
  - `id` — user_id;
  - `limit` — количество выводимых постов в рекомендациях.

#### 5. Отправка запроса:
Теперь, когда Вы настроили переменные, нажмите кнопку `Send`, чтобы отправить запрос.

В результате будут представлены рекомендованные к просмотру посты социальной сети с указанием id поста, текста и названия топика (при запуске файла app, кроме того, будет указана экспериментальная группа в поле "exp_group").   
